# Docker-specific environment configuration
# Copy this to .env for docker-compose

# ============================================================
# Model Configuration
# ============================================================

# Path to VibeVoice model (inside container or HuggingFace ID)
VIBEVOICE_MODEL_PATH=microsoft/VibeVoice-1.5B
#VIBEVOICE_MODEL_PATH=rsxdalv/VibeVoice-Large

# Device for inference
VIBEVOICE_DEVICE=cuda

# Number of diffusion inference steps
VIBEVOICE_INFERENCE_STEPS=10

# Quantization method to reduce VRAM usage (~40% reduction with int8_torchao)
# Options: int8_torchao (requires torchao), or leave empty for full precision
# VIBEVOICE_QUANTIZATION=int8_torchao

# ============================================================
# API Server Configuration
# ============================================================

API_HOST=0.0.0.0
API_PORT=8001
API_WORKERS=1
API_CORS_ORIGINS=*

# ============================================================
# Generation Defaults
# ============================================================

DEFAULT_CFG_SCALE=1.8
DEFAULT_RESPONSE_FORMAT=mp3
MAX_GENERATION_LENGTH=5400
DEFAULT_DO_SAMPLE=False
DEFAULT_TEMPERATURE=1.0
DEFAULT_TOP_P=1.0
DEFAULT_TOP_K=50
DEFAULT_REPETITION_PENALTY=1.0

# ============================================================
# Logging
# ============================================================

LOG_LEVEL=INFO

# ============================================================
# Docker Volume Mounts (Host Paths)
# ============================================================
# All paths below are HOST paths that will be mounted into the container
# Set these to absolute paths on your host system

# Path to voices directory on host (mounted to /app/voices in container)
VOICES_DIR=demo/voices

# OpenAI voice name to VibeVoice preset mapping (JSON format)
# Maps OpenAI-compatible voice names (alloy, echo, fable, onyx, nova, shimmer) to your voice preset files
# Format: {"openai_voice_name": "vibevoice_preset_name", ...}
# Default mapping uses voices from demo/voices folder
OPENAI_VOICE_MAPPING={"alloy": "en-Alice_woman", "echo": "en-Carter_man", "fable": "en-Maya_woman", "onyx": "en-Frank_man", "nova": "en-Mary_woman_bgm", "shimmer": "en-Alice_woman"}

# Path to HuggingFace cache on host (optional, for faster model loading)
# Mounted to /root/.cache/huggingface in container
# HF_CACHE_DIR=/home/user/.cache/huggingface

# Path to models directory on host (optional)
# Mounted to /app/models in container
# MODELS_DIR=/home/user/vibevoice-models

